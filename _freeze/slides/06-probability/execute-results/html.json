{
  "hash": "42a1094e428fd31792a4f22596c34585",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Probability Fundamentals üé≤\"\ntitle-slide-attributes:\n  data-background-image: ../images/bg.png\n  # data-background-size: stretch\n  # data-slide-number: none\nformat: \n  live-revealjs: \n    output-file: 06-probability-slides.html\n    # theme: slides.scss\nwebr:\n  cell-options:\n    autorun: false\n  packages:\n    - tidyverse\nknitr:\n  opts_chunk:\n    out-width: 100%\n    echo: false\n---\n\n\n# {visibility=\"hidden\"}\n\n\\def\\bx{\\mathbf{x}}\n\\def\\bg{\\mathbf{g}}\n\\def\\bw{\\mathbf{w}}\n\\def\\bbeta{\\boldsymbol \\beta}\n\\def\\bX{\\mathbf{X}}\n\\def\\by{\\mathbf{y}}\n\\def\\bH{\\mathbf{H}}\n\\def\\bI{\\mathbf{I}}\n\\def\\bS{\\mathbf{S}}\n\\def\\bW{\\mathbf{W}}\n\\def\\T{\\text{T}}\n\\def\\cov{\\mathrm{Cov}}\n\\def\\cor{\\mathrm{Corr}}\n\\def\\var{\\mathrm{Var}}\n\\def\\E{\\mathrm{E}}\n\\def\\bmu{\\boldsymbol \\mu}\n\\DeclareMathOperator*{\\argmin}{arg\\,min}\n\\def\\Trace{\\text{Trace}}\n\n\n\n\n<!-- begin: webr fodder -->\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n<!-- end: webr fodder -->\n\n# Language of Uncertainty{background-image=\"./images/06-probability/dies.jpg\" background-size=\"cover\" background-position=\"50% 50%\" background-color=\"#447099\"}\n\n::: notes\n- If we want to describe or quantify the uncertainty about something happening or not happening, we use probability.\n- Starting this week, we are gonna learn basic probability, including its definition and operations. OK.\n:::\n\n\n# Probability Fundamentals\n\n- ### Interpretation\n- ### Operations\n- ### Conditional Probability\n- ### Independence\n- ### Bayes Formula\n\n\n## Why Study Probability\n\n- We live in a world full of chances and uncertainty!\n\n\n::::: columns\n\n::: {.column width=\"50%\"}\n\n::: center\n**Sep 13, 2025**\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/chance_09_13_2025.png){fig-align='center' width=75%}\n:::\n:::\n\n:::\n\n\n\n\n::: {.column width=\"50%\"}\n\n::: center\n**Sep 19, 2022**\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/chance_09_19_2022.png){fig-align='center' width=75%}\n:::\n:::\n\n\n:::\n\n\n:::::\n\n\n::: notes\n- We always ask questions like what are the chances of XXX\n- I just typed what are the chances in Google, and these are the auto-completions. \n- It looks like US people are curious about getting pregnant, getting COVID of course, and getting struck by lightning or tornado.\n<!-- - Weird americans! -->\n<!-- - So you want the chances of getting pregnant high or low? I don't get it. -->\n<!-- - I just realized people are so eager to know the chance of getting pregnant! -->\n:::\n\n\n##\n\n\n::::: columns\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/monopoly.png){fig-align='center' width=100%}\n:::\n:::\n\n:::\n\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/slot.jpeg){fig-align='center' width=70%}\n:::\n\n::: {.cell-output-display}\n![](./images/06-probability/blackjack.jpeg){fig-align='center' width=70%}\n:::\n:::\n\n:::\n\n:::::\n\n\n::: notes\n- And of course, it is the chance or uncertainty that makes so many games so fun, amusing and even additive.\n:::\n\n\n## Why Probability Before Statistics?\n\n<!-- - Probability is the language of statistical inference and prediction.  -->\n- <span style=\"color:blue\"> **Probability** </span>: We *know* the process generating the data and are interested in properties of observations.\n\n- <span style=\"color:blue\"> **Statistics** </span>: We *observed* the data (sample) and are interested in determining what is the process generating the data (population).\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](06-probability_files/figure-revealjs/unnamed-chunk-6-1.png){fig-align='center' width=60%}\n:::\n\n::: {.cell-output-display}\n![](06-probability_files/figure-revealjs/unnamed-chunk-6-2.png){fig-align='center' width=60%}\n:::\n:::\n\n\n\n\n::: notes\nStatistics is based on probability, and while probability is not required for the applied techniques in this book, it may help you gain a deeper understanding of the methods and set a better foundation for future courses.\n:::\n\n\n\n\n# [Interpretation of Probability]{.orange}{background-image=\"https://upload.wikimedia.org/wikipedia/commons/1/1c/6sided_dice_%28cropped%29.jpg\" background-size=\"cover\" background-position=\"50% 50%\" background-color=\"#447099\"}\n\n\n## Interpretation of Probability: **Relative Frequency**\n\n- <span style=\"color:blue\"> **Relative Frequency** </span>: The probability that some outcome of a process will be obtained is interpreted as the **relative frequency** with which that outcome would be obtained _if the process were repeated **a large number of times** independently under **similar conditions**._\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stdout}\n\n```\n      Frequency Relative Frequency\nHeads         1                0.1\nTails         9                0.9\nTotal        10                1.0\n---------------------\n      Frequency Relative Frequency\nHeads       515              0.515\nTails       485              0.485\nTotal      1000              1.000\n---------------------\n```\n\n\n:::\n:::\n\n\n- If we repeat tossing the coin 10 times, the probability of obtaining heads is 10%.\n\n- If 1000 times, the probability is 51.5%.\n\n\n::: notes\n\n- Suppose we toss a coin. \n  + If we repeat tossing the coin 10 times, the probability of obtaining heads is 10%. \n  + If 1000 times, the probability is 51.5%.\n\n:::\n  \n. . .\n\n::: question\nAny issue of relative frequency probability?\n:::\n\n\n## Issues of **Relative Frequency**\n\n- üòï How large of a number is large enough? \n\n. . .\n\n- üòï Meaning of \"under similar conditions\"\n\n::: notes\n- airflow, temperature, same person, same coin?\n:::\n\n\n. . .\n\n- üòï The relative frequency is reliable under identical conditions?\n\n::: notes\nskilled person \n:::\n\n. . .\n\n- üëâ  We only obtain an approximation instead of exact value.\n\n. . .\n\n- üòÇ  How do you compute the probability that Chicago Cubs wins the World Series next year? \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](https://media.giphy.com/media/EKURBxKKkw0uY/giphy.gif){fig-align='center' width=40%}\n:::\n:::\n\n\n::: notes\n- Most importantly, some process or experiment cannot be replicated or repeated. \n\n<!-- One shot situation -->\n<!-- it applies only to a problem in which there can be, at least in principle, a large number of -->\n<!-- similar repetitions of a certain process. -->\n:::\n\n\n\n## Interpretation of Probability: **Classical Approach**\n\n- <span style=\"color:blue\"> **Classical** probability </span>: The probability is based on the concept of **equally likely** outcomes.\n\n- If the outcome of some process must be one of $n$ different outcomes, the probability of each outcome is $1/n$. \n\n. . .\n\n- Example: \n  + toss a fair coin (2 outcomes) ü™ô\n  + roll a well-balanced die (6 outcomes)  üé≤ \n  + draw one from a deck of cards (52 outcomes) üÉè \n\n. . .\n\n::: question\nAny issue of classical probability?\n:::\n\n. . .\n\n- _The probability that *[you name it]* wins the World Series next year is **1/30**_?!\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/nick_young.png){fig-align='center' width=10%}\n:::\n:::\n\n\n::: notes\n- No systematic method is given for assigning probabilities to outcomes that are not assumed to be equally likely.\n- This interpretation or definition of probability is way too naive right!\n- Only get pregnant or not get pregnant, but We cannot say the chance of getting pregnant is 1/2.\n- Only get COVID or not get COVID, but We cannot say the chance of getting COVID is 1/2.\n:::\n\n\n## Interpretation of Probability: **Subjective Approach**\n\n- <span style=\"color:blue\"> **Subjective** probability </span>: The probability is assigned or estimated using people's **knowledge, beliefs and information** about the data generating process.\n\n- A person's *subjective* probability of an outcome, rather than the *true* probability of that outcome.\n\n. . .\n\n- I think *\"the probability that Milwaukee Brewers wins the World Series this year is 30%\"*.\n\n. . .\n\n- My probability that Milwaukee Brewers wins the World Series next year is *different* from an ESPN MLB analyst's probability. \n\n\n::::: columns\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/espn.jpeg){fig-align='center' width=70%}\n:::\n:::\n\n:::\n\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](https://upload.wikimedia.org/wikipedia/en/2/2e/ESPN_Major_League_Baseball_TV_logo.jpg){fig-align='center' width=100%}\n:::\n:::\n\n:::\n\n:::::\n\n\n::: notes\n- **Subjective** probability: The probability is assigned or estimated using people's **knowledge, beliefs and information** about the data generating process, or hoe the outcome is obtained from some experiment.\n- I think *\"the probability that Milwaukee Brewers wins the World Series this year is 30%\"*.\n- Since the probability is subjective, my probability that Milwaukee Brewers wins the World Series next year is *different* from an ESPN MLB analyst's probability.\n:::\n\n\n## \n\n::: {.center}\n::: xlarge\n<br>\n<br>\n<br>\n<br>\n**Any probability operations and rules do NOT depend on interpretation of probability!**\n:::\n:::\n\n\n::: notes\nno worries about which interpretation we gonna use before we do probability calculations. OK.\n:::\n\n# [Probability Operations and Rules]{.orange}{background-image=\"https://upload.wikimedia.org/wikipedia/commons/1/1c/6sided_dice_%28cropped%29.jpg\" background-size=\"cover\" background-position=\"50% 50%\" background-color=\"#447099\"}\n\n\n\n## Experiments, Events and Sample Space\n\n- **Experiment**: any process in which the possible **outcomes** can be identified *ahead of time*.\n\n- **Event**: a set of possible outcomes of the experiment.\n\n- **Sample space** $(\\mathcal{S})$ of an experiment: the collection of **ALL** possible outcomes of the experiment.\n\nExperiment    | Possible Outcomes        | Some Events                      | Sample Space\n------------- | ------------------------ | -------------------------------  | -------------------\nFlip a coin  ü™ô | Heads, Tails      | {Heads}, {Heads, Tails}, ...                 | {Heads, Tails}\nRoll a die  üé≤   | 1, 2, 3, 4, 5, 6  | {1, 3, 5}, {2, 4, 6}, {2}, {3, 4, 5, 6}, ... | {1, 2, 3, 4, 5, 6}\n\n\n::: notes\n- Flipping a coin is an experiment because we can identify possible outcomes before we do the experiment, which are heads and tails. \n- Rolling a die is an experiment because we can identify possible outcomes before we do the experiment, which are numbers 1, 2, 3, 4, 5, 6.\n- We use curly braces to indicate a set. Any elements in the set are inside the curly braces. \n:::\n\n\n\n. . .\n\n::: question\nIs the sample space also an event?\n:::\n\n. . .\n\n- Yes, the sample space itself is an event because it is also a set of possible outcomes of the experiment.\n\n\n\n\n## Set Concept: Example of **Rolling a six-side balanced die**\n\n::: tip\nDraw a [**Venn Diagram**](http://www.stat.ucla.edu/~vlew/stat11/lectures/venn/venn.html) every time you get stuck!\n:::\n\n- <span style=\"color:black\"> **Complement** </span> of an event (set) $A$, <span style=\"color:black\"> $A^c$ </span>: a set of **all** outcomes (elements) of $\\mathcal{S}$ in which $A$ does **not** occur.\n  + <span style=\"color:blue\">Let $A$ be an event that a number greater than 2. Then $A = \\{3, 4, 5, 6\\}$ and $A^c = \\{1, 2\\}$.</span> \n\n\n::: notes\n- Before formally introduce probability operations, we need some basic set concepts because probability is defined on a set, or event.\n- Venn diagram is a very useful tool for identifying a set, so I encourage you to draw a venn diagram when you get stuck on complicated set operations.\n- This applet is very helpful. Try to check each set and see if you fully understand concept of union, intersection, complement and containment or subset.\n- An Event is usually described by words, and we need to convert the words into the set it is referring to.\n:::\n\n. . .\n\n- <span style=\"color:black\"> **Union** $(A \\cup B)$ </span>: a set of all outcomes of $\\mathcal{S}$ in $A$ **or** $B$.\n  + <span style=\"color:blue\">Let $B$ be an event that an even number is obtained.</span>  (What is $B$ in terms of a set?)\n  + <span style=\"color:blue\"> $B = \\{2, 4, 6\\}$, $A \\cup B = \\{2, 3, 4, 5, 6\\}$.</span>\n  \n::: notes\n- Collect all elements in A and in B.\n- Keep unique ones.\n- An element in $(A \\cup B)$ either belongs to  event A only, B only or belong to A and B.\n:::\n\n. . .\n\n- <span style=\"color:black\"> **Intersection** $(A \\cap B)$ </span>: a set of all outcomes of $\\mathcal{S}$ in both $A$ **and** $B$.\n  + <span style=\"color:blue\"> $A \\cap B = \\{4, 6\\}$.</span> \n\n::: notes\n- the elements in the set $(A \\cap B)$ should occur in both A and B. \n:::\n\n  \n\n## Set Concept: Example of **Rolling a six-side balanced die**\n\n- $A$ and $B$ are **disjoint** (or **mutually exclusive**) if they have **no outcomes in common** $(A \\cap B = \\emptyset)$.\n  + $\\emptyset$ means an empty set, $\\{\\}$, i.e., no elements in the set.\n  + <span style=\"color:blue\"> Let $C$ be an event that an odd number is obtained. Then $C = \\{1, 3, 5\\}$ and $B \\cap C = \\emptyset$. </span> \n\n\n::: notes\n- All elements in A are also elements in B. But there may be some B's elements that are not in A.\n- Set D has more elements than B, and B's elements also belong to D.\n:::\n\n. . .\n\n::::: columns\n\n::: {.column width=\"80%\"}\n\n- **Containment** $(A \\subset B)$: every elements of $A$ also belongs to $B$. If $A$ occurs then so does $B$.\n  + <span style=\"color:blue\"> $B$ is an event that an even number is obtained. </span>\n  + <span style=\"color:blue\"> $D$ is an event that a number greater than 1 is obtained. </span>\n  + <span style=\"color:blue\"> $B = \\{2, 4, 6\\}$ and $D = \\{2, 3, 4, 5, 6\\}$. </span>\n\n:::\n\n::: {.column width=\"20%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](06-probability_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=100%}\n:::\n:::\n\n:::\n:::::\n\n. . .\n\n::: question\n$B \\subset D$ or $D \\subset B$?\n:::\n\n<!-- -- -->\n\n<!-- - <span style=\"color:blue\"> $B \\subset D$ or $D \\supset B$. </span> -->\n\n\n<!-- In other words, they cannot occur at the same time when the experiment is performed. -->\n\n\n\n## Probability Rules\n\nDenote the probability of an event $A$ on a sample space $\\mathcal{S}$ as $P(A)$.\n\n::: tip\nTreat the probability of an event as the **area** of the event in the Venn diagram.\n:::\n\n::: midi\n\n- **Axioms**\n  + $P(\\mathcal{S}) = 1$\n  + For any event $A$, $P(A) \\ge 0$\n  + If $A$ and $B$ are **disjoint**, $P(A \\cup B) = P(A) + P(B)$\n  \n:::\n\n. . .\n\n::: midi\n\n- **Properties**\n  + $P(\\emptyset) = 0$. \n  + $0 \\le P(A) \\le 1$\n  + $P(A^c) = 1 - P(A)$\n  + $P(A \\cup B) = P(A) + P(B) - P(A \\cap B)$  (Addition Rule)\n  + If $A \\subset B$, then $P(A) \\le P(B)$ \n\n:::\n\n\n::: notes\n- Now we are ready to formally define a probability and it's rules.\n- Treat probability as the area in the Venn diagram. For example, $P(\\mathcal{S})$ is the area of the sample space, or the area of the rectangle, which is normalized to be 1.\n:::\n\n\n## Venn Diagram Illustration\n\n- **Addition Rule**: $P(A \\cup B) = P(A) + P(B) - P(A \\cap B)$\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/addition_rule.png){fig-align='center' width=100%}\n:::\n:::\n\n\n. . .\n\n- **Disjoint case**: $P(A \\cup B) = P(A) + P(B)$ because $P(A \\cap B) = 0$!\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/disjoint_sex.png){fig-align='center' width=70%}\n:::\n:::\n\n\n\n\n## Example: M&M Colors\n\nThe makers of the candy M&Ms report that their plain M&Ms are composed of\n\n  + 15% Yellow; 10% Red; 20% Orange; 25% Blue; 15% Green; 15% Brown\n  \n  \n::::: columns\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/mm.jpeg){fig-align='center' width=80%}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: question\n\nIf you randomly select an M&M, what is the probability of the following?\n\n  + (1) It is brown. \n  + (2) It is red or green. \n  + (3) It is not blue. \n  + (4) It is red and brown.\n  \n:::\n:::\n\n:::::\n\n::: {.content-visible when-format=\"revealjs\"}\n{{< countdown minutes=2 font-size=\"5rem\" >}}\n:::\n\n\n::: notes\n- Give you 2 minutes!\n:::\n\n\n## Example: M&M Colors\n\n- 15% Yellow; 10% Red; 20% Orange; 25% Blue; 15% Green; 15% Brown\n\n::::: columns\n\n::: {.column width=\"40%\"}\n\n::: question\n\nIf you randomly select an M&M, what is the probability of the following?\n\n  + (1) It is brown. \n  + (2) It is red or green. \n  + (3) It is not blue. \n  + (4) It is red and brown.\n  \n:::\n\n:::\n\n::: {.column width=\"60%\"}\n\n- $P(\\mathrm{Brown}) = 0.15$\n\n- $\\small \\begin{align} P(\\mathrm{Red} \\cup \\mathrm{Green}) &= P(\\mathrm{Red}) + P(\\mathrm{Green}) - P(\\mathrm{Red} \\cap \\mathrm{Green}) \\\\ &= 0.10 + 0.15 - 0 = 0.25 \\end{align}$\n\n- $P(\\text{Not Blue}) = 1 - P(\\text{Blue}) = 1 - 0.25 = 0.75$\n\n- $P(\\text{Red and Brown}) = P(\\emptyset) = 0$\n\n:::\n\n::::\n\n. . .\n\n::: question\nBy the way, which interpretation of probability is used in this question?\n:::\n\n\n# [Conditional Probability and Independence]{.orange}{background-image=\"https://upload.wikimedia.org/wikipedia/commons/1/1c/6sided_dice_%28cropped%29.jpg\" background-size=\"cover\" background-position=\"50% 50%\" background-color=\"#447099\"}\n\n## Conditional Probability\n\n- The **conditional probability of $A$ given $B$** is\n\n$$ P(A \\mid  B) = \\frac{P(A \\cap B)}{P(B)} $$ if $P(B) > 0$, and it is undefined if $P(B) = 0$.\n<!-- - Read $A | B$ as \"$A$ given $B$\" -->\n\n- \"Given $B$\" means that event $B$ *has already occurred*. \n\n. . .\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/conditional.jpg){fig-align='center' width=50%}\n:::\n:::\n\n\n<!-- At this moment $P(B)$ is 1. -->\n<!-- - $P(B)$ is scaled up by $1 / P(B)$ so that $P(B) \\times \\frac{1}{P(B)} = 1$. -->\n. . .\n\n- **Multiplication Rule**: $P(A \\cap B) = P(A \\mid  B)P(B) = P(B \\mid  A)P(A)$\n\n- $P(A)$ and $P(B)$ are **unconditional** or **marginal probabilities**.\n\n\n\n\n::: notes\n- Read $A | B$ as \"$A$ given $B$\"\n- When we compute the probability of A, the information about B have been given, and the probability of A is adjusted, according to this information.\n- The probability of A may depend on whether B happens or not.\n- $P(A | B)$ computes the probability of A given that B has been occurred. At this moment $P(B)$ is 1. \n- $P(B)$ is scaled up by $1 / P(B)$ so that $P(B) \\times \\frac{1}{P(B)} = 1$.\n- $P(A) \\ne P(A|B)$ in general. \n- The conditional probability is the ratio of $P(A \\cap B)$ and $P(B)$.\n- The proportion of area of A to the area of B.\n- The probability is the area of $A \\cap B$ / area of B\n:::\n\n\n\n\n\n\n\n## Difference Between $P(A)$ and $P(A \\mid B)$\n\n::: midi\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/conditional_prob_new.png){fig-align='center' width=85%}\n:::\n:::\n\n:::\n\n::: notes\n<!-- - The marginal probability $P(A)$ is the ratio of area of $A$ and the area of the sample space. -->\n<!-- - The conditional probability $P(A|B)$ is the ratio of area of $A \\cap B$ and the area of $B$. -->\n\n- If we don't have any specific information, what we can base on is the entire sample space, and the probability of A is the ratio of area of A to the area of entire sample space which is 1.\n- Now if we know B has occurred, we don't need to consider the entire sample space any more. \n- Instead, we focus only on B cuz we know B has occurred, $B^c$ becomes totally irrelevant.\n- To find $P(A \\mid  B)$, we just need to find how large part of B that also belongs to A.\n- Example, when we don't have any info about women, to compute a woman > 20 yrs old, we base on the entire female population of interest. But if we do know that the woman has a BA degree, we shrink our focus on women who have a BA degree, and compute the proportion of the women pool that has age over 20.\n:::\n\n\n## Example: Peanut Butter and Jelly\n\n- Suppose 80% of people like peanut butter, 89% like jelly, and 78% like both.\n\n- Given that a randomly sampled person likes peanut butter, what‚Äôs the probability that she also likes jelly?\n\n  \n::::: columns\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/peanut_jelly.jpeg){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: fragment\n\n- We want $P(J\\mid PB) = \\frac{P(PB \\cap J)}{P(PB)}$.\n\n- From the problem we have $P(PB) = 0.8$, $P(J) = 0.89$, $P(PB \\cap J) = 0.78$\n\n- $P(J\\mid PB) = \\frac{P(PB \\cap J)}{P(PB)} = \\frac{0.78}{0.8} = 0.975$.\n\n::: alert\n\n::: small\n\n- If we **don't** know if the person loves peanut butter, the probability that she loves jelly is 89%.\n\n- If we **do** know she loves peanut butter, the probability that she loves jelly is going up to 97.5%.\n\n:::\n\n:::\n\n:::\n\n:::\n\n:::::\n\n\n## Independence\n\n- $A$ and $B$ are **independent** if \n$\\begin{align} P(A \\mid  B) &= P(A) \\text{ or }\\\\ P(B \\mid  A) &= P(B) \\text{ or } \\\\P(A\\cap B) &= P(A)P(B)\\end{align}$  $\\text{ if } P(A) > 0 \\text{ and } P(B) > 0$\n\n- Intuition: *Knowing $B$ occurs does not change the probability that $A$ occurs, and vice versa.*\n\n::: notes\n- The information about B is irrelevant to probability of A. \n- Example: \n:::\n\n. . .\n\n::: question\nCan we compute $P(A \\cap B)$ if we only know $P(A)$ and $P(B)$?\n:::\n\n. . .\n\n- No, we cannot compute $P(A \\cap B)$ since we do not know if $A$ and $B$ are independent.\n\n- We could only if $A$ and $B$ were independent.\n\n- In general, we need the multiplication rule $P(A \\cap B) = P(A \\mid B)P(B)$.\n\n\n\n\n## Venn Diagram Explanation of Independence\n\n::: midi\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/independence_new.png){fig-align='center' width=95%}\n:::\n:::\n\n\n:::\n\n\n::: notes\n- Independence means that the ratio of area of A to area of S is the same as the ratio of area of A&B to area of B.\n- Look at the case of non-independence.\n- Look at the circles. The area of A&B is very close to the area of B.\n- It means that the ratio of area of $A\\cap B$ to area of B is pretty close to 1.\n- So given B, [ ]\n- In this case, the information about B does matter, and affect probability of A.\n- If we know B occurred, there is pretty high chance that A will occur as well. OK.\n:::\n\n\n## Independence Example\n\n::: question\n- Assuming that events $A$ and $B$ are **independent**. $P(A) = 0.3$ and $P(B) = 0.7$.\n  + $P(A \\cap B)$?\n  + $P(A \\cup B)$?\n  + $P(A \\mid B)$?\n\n<!-- - If $P(A \\cap B)= 0.1$, are $A$ and $B$ independent? -->\n<!-- - If $P(A \\cap B)= 0.1$, what is $P(A \\mid B)$? -->\n\n::: {.content-visible when-format=\"revealjs\"}\n{{< countdown minutes=2 font-size=\"5rem\" >}}\n:::\n\n:::\n\n\n. . .\n\n- $P(A \\cap B) = P(A)P(B)=0.21$\n\n. . .\n\n- $P(A \\cup B) = P(A)+P(B)-P(A\\cap B) = 0.3+0.7-0.21=0.79$\n\n. . .\n\n- $P(A \\mid B) = P(A) = 0.3$\n\n<!-- -- -->\n\n<!-- - If $P(A \\cap B)= 0.1$, $A$ and $B$ are not independent because $P(A \\cap B) \\ne P(A)P(B)$ -->\n\n<!-- -- -->\n\n<!-- - $P(A \\mid B) =\\frac{P(A\\cap B)}{P(B)} = \\frac{0.1}{0.7} = 0.143$. -->\n\n# [Bayes' Formula]{.orange}{background-image=\"https://upload.wikimedia.org/wikipedia/commons/1/1c/6sided_dice_%28cropped%29.jpg\" background-size=\"cover\" background-position=\"50% 50%\" background-color=\"#447099\"}\n\n## Why Bayes' Formula?\n\n- Often, we know $P(B \\mid A)$ but are much more interested in $P(A \\mid B)$.\n\n- Example: diagnostic tests provide $P(\\text{positive test result}  \\mid \\text{COVID})$, but we are interested in $P(\\text{COVID} \\mid \\text{positive test result})$\n\n\n  \n::::: columns\n\n::: {.column width=\"50%\"}\n\n<br>\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/covid.jpeg){fig-align='center' width=60%}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/test_table.png){fig-align='center' width=60%}\n:::\n:::\n\n:::\n\n:::::\n\n. . .\n\n- Bayes' formula provides a way for finding $P(A \\mid B)$ from $P(B \\mid A)$\n\n\n\n::: notes\n- Often, we know the conditional probability $P(B \\mid A)$ but are much more interested in $P(A \\mid B)$\n- For example, diagnostic tests provide $P(\\text{positive test result}  \\mid \\text{disease})$, but we are interested in $P(\\text{disease} \\mid \\text{positive test result})$\n:::\n\n\n## Bayes' Formula\n\n- If $A$ and $B$ are any events whose probabilities are not 0 or 1, then\n\n::: midi\n\n$$\\begin{align*} P(A \\mid B) &= \\frac{P(A \\cap B)}{P(B)} \\quad ( \\text{def. of cond. prob.}) \\\\ &= \\frac{P(A \\cap B)}{P((B \\cap A) \\cup (B \\cap A^c))} \\quad ( \\text{partition } B) \\\\ &= \\frac{P(B \\mid A)P(A)}{P(B \\mid A)P(A) + P(B \\mid A^c)P(A^c)}  \\quad ( \\text{multiplication rule}) \\end{align*}$$\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](06-probability_files/figure-revealjs/unnamed-chunk-22-1.png){fig-align='center' width=33%}\n:::\n:::\n\n\n:::\n\n::: notes\n- Hint: <span style=\"color:blue\"> Partition the event $B$ as a union of disjoint sets: $B = (B \\cap A) \\cup (B \\cap A^c)$ (Check Venn diagram) and apply the multiplication rule.</span>  \n- Start from the definition of conditional probability, we have \n$$ P(A \\mid  B) = \\frac{P(A \\cap B)}{P(B)} = \\cdots = \\frac{P(B \\mid A)P(A)}{P(B \\mid A)P(A) + P(B \\mid A^c)P(A^c)}$$\n:::\n\n## Example: Passing Rate\n\n::::: columns\n\n::: {.column width=\"60%\"}\n\nAfter taking MATH 4720, $80\\%$ of students understand the Bayes' formula.\n\n- Of those who understand the Bayes' formula,\n  + $95\\%$ passed\n\n- Of those who do not understand the Bayes' formula,\n  + $60\\%$ passed\n\n:::\n\n\n::: {.column width=\"40%\"}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/test_pass.jpeg){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n:::::\n\n\n::: question\nCalculate the probability that a student understand the Bayes' formula given the fact that she passed.\n:::\n\n\n## Bayes Formula: Step-by-Step\n\n- $80\\%$ of students understand the Bayes' formula.\n\n- Of those who understand the Bayes' formula, $95\\%$ passed ( $5\\%$ failed).\n\n- Of those who do not understand the formula, $60\\%$ passed ( $40\\%$ failed).\n\n::: small\n$$P(A \\mid B) = \\frac{P(B \\mid A)P(A)}{P(B \\mid A)P(A) + P(B \\mid A^c)P(A^c)}$$\n:::\n\n. . .\n\n- <span style=\"color:blue\"> Step 1: Formulate what we would like to compute  </span>\n\n. . .\n\n$P(\\text{understand} \\mid \\text{passed})$\n\n. . .\n\n- <span style=\"color:blue\"> Step 2: Define relevant events in the formula: $A$, $A^c$ and $B$ </span>\n\n. . .\n\nLet $A =$ understand. $B =$ passed. Then $A^c =$ don't understand and $P(\\text{understand} \\mid \\text{passed}) = P(A \\mid B)$.\n\n\n\n\n\n## Bayes Formula: Step-by-Step\n\n- $80\\%$ of students understand the Bayes' formula.\n\n- Of those who understand the Bayes' formula, $95\\%$ passed ( $5\\%$ failed).\n\n- Of those who do not understand the formula, $60\\%$ passed ( $40\\%$ failed).\n\n::: small\n$$P(A \\mid B) = \\frac{P(B \\mid A)P(A)}{P(B \\mid A)P(A) + P(B \\mid A^c)P(A^c)}$$\n:::\n\n- <span style=\"color:blue\"> Step 3: Find probabilities in the Bayes' formula using provided information. </span>\n\n$P(B \\mid A) = P(\\text{passed} \\mid \\text{understand}) = 0.95$, $P(B \\mid A^c) = P(\\text{passed} \\mid \\text{don't understand}) = 0.6$  \n$P(A) = P(\\text{understand}) = 0.8$, $P(A^c) = 1 - P(A) = 0.2$.\n\n. . .\n\n- <span style=\"color:blue\"> Step 4: Apply Bayes' formula. </span>\n\n$P(\\text{understand} \\mid \\text{passed}) = P(A \\mid B) = \\frac{P(B \\mid A)P(A)}{P(B \\mid A)P(A) + P(B \\mid A^c)P(A^c)} = \\frac{(0.95)(0.8)}{(0.95)(0.8) + (0.6)(0.2)} = 0.86$\n\n\n\n## Bayes Formula: Tree Diagram Illustration\n\n- $80\\%$ of students understand the Bayes' formula.\n\n- Of those who understand the Bayes' formula, $95\\%$ passed ( $5\\%$ failed).\n\n- Of those who do not understand the formula, $60\\%$ passed ( $40\\%$ failed).\n\n::::: columns\n\n::: {.column width=\"60%\"}\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](./images/06-probability/bayestree_new.png){fig-align='center' width=100%}\n:::\n:::\n\n:::\n\n\n::: {.column width=\"40%\"}\n\n$$\\begin{align*} & P(\\text{yes} \\mid \\text{pass}) \\\\ &= \\frac{P(\\text{yes and }  \\text{pass})}{P(\\text{pass})} \\\\ &= \\frac{P(\\text{yes and }  \\text{pass})}{P(\\text{pass and yes}) + P(\\text{pass and no})}\\\\ &= \\frac{0.76}{0.76 + 0.12} = 0.86 \\end{align*}$$\n\n:::\n\n:::::\n\n::: notes\n$$\\begin{align*} & P(\\text{yes} \\mid \\text{pass}) \\\\ &= \\frac{P(\\text{yes and }  \\text{pass})}{P(\\text{pass})} \\\\ &= \\frac{P(\\text{yes and }  \\text{pass})}{P(\\text{pass and yes}) + P(\\text{pass and no})}\\\\ &= \\frac{P(\\text{pass | yes})P(\\text{yes})}{P(\\text{pass | yes})P(\\text{yes}) + P(\\text{pass | no})P(\\text{no})} \\\\ &= \\frac{0.76}{0.76 + 0.12} = 0.86 \\end{align*}$$\n:::\n",
    "supporting": [
      "06-probability_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}